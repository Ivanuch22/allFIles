{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import DrawerCart from\"../drawerCart\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Basket=_ref=>{let{setAddedCarts,removeAdd,decrement,increment,isBasketOpen,onLike,setBoxsPriceBasket,setOpenBasket,price,carts,boxsPriceBasket}=_ref;const[basketBox,setBasketBox]=useState([]);const[inputName,setInputName]=useState(\"\");const[inputPhone,setInputPhone]=useState(\"\");const[inputCity,setInputCity]=useState(\"\");const[inputDepartments,setInputDepartments]=useState(\"\");const[inputComment,setInputComent]=useState(\"\");const[inputMessenger,setInputMessenger]=useState(\"viber\");const[inputPayment,setInputPayment]=useState(\"monopay\");const[formStatus,setFormStatus]=useState(false);const[phoneNumber,setPhoneNumber]=useState(\"\");const[isValid,setIsValid]=useState(true);const handleInputChange=event=>{const input=event.target.value;// Виконати перевірки для формату та довжини\nlet formattedInput=input.trim();if(formattedInput.startsWith(\"0\")){formattedInput=\"+38\".concat(formattedInput);}else if(formattedInput.startsWith(\"380\")){formattedInput=\"+\".concat(formattedInput);}else if(formattedInput.startsWith(\"+\")){// Нічого не змінюємо\n}else{// Якщо введений текст не починається з 0, 380 або \"+\", ви можете застосувати ваші власні логіки обробки\n// Наприклад, додаткові перевірки або ігнорування неприпустимих символів.\n}setIsValid(formattedInput.length>=13);// Довжина українського номера\nsetPhoneNumber(formattedInput);};useEffect(()=>{fetch(\"\".concat(process.env.PUBLIC_URL,\"/data/basket.json\")).then(response=>response.json()).then(data=>setBasketBox(data)).catch(()=>console.log(\"basket not find\"));},[]);const sendMessageToTelegram=async data=>{setFormStatus(false);const TOKEN=\"6619280299:AAGIL6f6uD5nOU1Sjw26zzqvyI0V_fZZKq0\";const CHAT_ID=\"-1002007095666\";const URL_API=\"https://api.telegram.org/bot\".concat(TOKEN);const sendText=()=>{const getCurrentDate=new Date().toISOString().split(\"T\")[0];//preparing text for post to telegram\nlet message=\"<b>\\u0417\\u0430\\u044F\\u0432\\u043A\\u0430 \\u0437 \\u0441\\u0430\\u0439\\u0442\\u0430! </b>\\n      \";message+=\"\\n\\u0414\\u0430\\u0442\\u0430 \\u0441\\u0442\\u0432\\u043E\\u0440\\u0435\\u043D\\u043D\\u044F \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F: <i>\".concat(getCurrentDate,\"</i> \\n\\u0406\\u043C\\u044F \\u0437\\u0430\\u043C\\u043E\\u0432\\u043D\\u0438\\u043A\\u0430 <i>\").concat(inputName,\"</i>\\n\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0443 <i>\").concat(inputPhone,\"</i>\\n\\u0410\\u0434\\u0440\\u0435\\u0441\\u0430 \\u043D\\u0430 \\u044F\\u043A\\u0443 \\u0432\\u0456\\u0434\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0438:\\n<i>\\u041C\\u0456\\u0441\\u0442\\u043E \").concat(inputCity,\",\\n\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0432\\u0456\\u0434\\u0456\\u043B\\u0435\\u043D\\u043D\\u044F \").concat(inputDepartments,\"</i>\\n\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440 <i>\").concat(inputComment,\"</i>\\n\\n<b>\\u0417\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F</b>\\n\\u0417\\u0430\\u0433\\u0430\\u043B\\u044C\\u043D\\u0430 \\u0441\\u0443\\u043C\\u0430 : <i>\").concat(price,\" \\u0433\\u0440\\u043D</i>\\n\\n<b>\\u041A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438</b>\");data.forEach(element=>{message+=\"\\n<b>\".concat(element.name,\" </b>:\\n<b>\\u0422\\u0438\\u043F \\u0447\\u0430\\u0448\\u043A\\u0438 </b> <i>\").concat(element.type.length>0?element.type.filter(element=>element.isActive)[0].name:\"Без типа\",\"</i>\\n\\u0426\\u0456\\u043D\\u0430 \\u0437\\u0430 \\u0447\\u0430\\u0448\\u043A\\u0443:  <i>\").concat(element.price,\"</i> \\u0433\\u0440\\u0438\\u0432\\u0435\\u043D\\u044C\\n\\u041A\\u0456\\u043B\\u044C\\u043A\\u0456\\u0441\\u0442\\u044C \\u0447\\u0430\\u0448\\u043E\\u043A: <b>\").concat(element.count,\"</b>\\n\");});message+=\"\\n<b>\\u0414\\u043E\\u0434\\u0430\\u0442\\u043A\\u043E\\u0432\\u0438\\u0439 \\u0431\\u043E\\u043A\\u0441, \\u0446\\u0456\\u043D\\u0430:</b> <i>\\n\".concat(boxsPriceBasket>0?boxsPriceBasket:\"Бокс не був вибраний\",\"</i>\\n\\u0421\\u043F\\u043E\\u0441\\u0456\\u0431 \\u043E\\u043F\\u043B\\u0430\\u0442\\u0438 \").concat(inputPayment,\" \\n\\u0421\\u043F\\u043E\\u0441\\u0456\\u0431 \\u0437\\u0432\\u044F\\u0437\\u043A\\u0443 \").concat(inputMessenger);//preparing sending data\nconst formData=new URLSearchParams();formData.append(\"chat_id\",CHAT_ID);formData.append(\"text\",message);formData.append(\"parse_mode\",\"html\");//sending data\nfetch(\"\".concat(URL_API,\"/sendMessage\"),{method:\"POST\",body:formData}).then(response=>{return response;}).then(response=>response.json()).then(data=>{console.log(\"Message sent:\",data);}).catch(error=>{console.error(\"Error:\",error);});};sendText();setInputName(\"\");setInputPhone(\"\");setInputCity(\"\");setInputDepartments(\"\");setInputComent(\"\");setAddedCarts([]);};const sendMessageToBackEnd=orderedCarts=>{const getCurrentDate=new Date().toISOString().split(\"T\")[0];let filterCarts=[];filterCarts=orderedCarts.map((element,index)=>{const activeType=element.type.length>0?element.type.filter(type=>type.isActive):[];return{price:element.price,// Замініть на значення з форми або іншого джерела\nquantity:element.count,name:element.name,// Замініть на значення з форми або іншого джерела\npicture:element.images[0],// Замініть на значення з форми або іншого джерела\nproperties:activeType.length>0?[{name:\"Тип чашки\",value:activeType[0].name}]:null};});try{const activeBoxBasket=()=>{return basketBox.filter(element=>{return element.price===boxsPriceBasket;});};const actBox=activeBoxBasket()[0];filterCarts.push({price:actBox.price,// Замініть на значення з форми або іншого джерела\nquantity:1,name:actBox.name,// Замініть на значення з форми або іншого джерела\npicture:actBox.img,// Замініть на значення з форми або іншого джерела\nproperties:[]});}catch{console.log(\"basket is not choose\");}const dataForBack={source_id:2,client_comment:inputComment,buyer:{full_name:\"\".concat(inputName),// Замініть на значення з форми або іншого джерела\n// email: \"john.doe@example.com\", // Замініть на значення з форми або іншого джерела\nphone:\"\".concat(inputPhone)// Замініть на значення з форми або іншого джерела\n},shipping:{shipping_address_city:\"\".concat(inputCity),// Замініть на значення з форми або іншого джерела\nshipping_address_region:\"\".concat(inputDepartments)// Замініть на значення з форми або іншого джерела\n},products:filterCarts,payments:inputPayment===\"monopay\"?[{payment_method_id:2,payment_method:\"Monopay\",amount:price,description:\"Авансовий платіж\",status:\"not_paid\"}]:[{payment_method_id:2,payment_method:\"Postha\",amount:price,description:\"Авансовий платіж\",status:\"not_paid\"}]};fetch(\"https://bf7d-37-73-102-133.ngrok-free.app/send-to-keycrm\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Cache-Control\":\"no-cache\",Pragma:\"no-cache\"},body:JSON.stringify(dataForBack)}).then(response=>{if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}return response.json();}).then(data=>console.log(data)).catch(error=>console.error(\"Error:\",error));};const onSubmitFunc=e=>{e.preventDefault();if(inputName.length<4||inputCity.length<2||inputPhone.length<=10||inputDepartments.length<1){setFormStatus(true);return;}else{if(inputPayment===\"monopay\"){getDataFromMonoUser(carts);}sendMessageToTelegram(carts);sendMessageToBackEnd(carts);}};const dataLenght=carts===null||carts===void 0?void 0:carts.length;const getDataFromMonoUser=orderedCarts=>{const dataAboutCartForMono=orderedCarts.map((cart,index)=>{return{name:cart.name,qty:cart.count,sum:cart.price*100,icoun:\"\".concat(process.env.PUBLIC_URL,\"/img/\").concat(cart.images[0]),unit:\"шт.\",barcode:\"string\",header:\"string\",footer:\"string\",tax:[],uktzed:\"string\",discounts:[{type:\"DISCOUNT\",mode:\"VALUE\",value:cart.oldPrice}]};});try{const activeBoxBasket=()=>{return basketBox.filter(element=>{console.log(element.price,boxsPriceBasket);return element.price===boxsPriceBasket;});};const actBox=activeBoxBasket()[0];dataAboutCartForMono.push({name:actBox.name,qty:1,sum:actBox.price*100,icoun:\"\".concat(process.env.PUBLIC_URL,\"/img/\").concat(actBox.img,\"}\"),unit:\"шт.\",barcode:\"string\",header:\"string\",footer:\"string\",tax:[],uktzed:\"string\"});}catch{console.log(\"error\");}fetch(\"https://api.monobank.ua/api/merchant/invoice/create\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"X-Token\":\"utR_bnF6LUzdc4pr3yFNFF2kKEPk75xeIlItZx9QfaxY\"},body:JSON.stringify({amount:price*100,redirectUrl:\"https://mister-gifter.com/\",webHookUrl:\"https://bf7d-37-73-102-133.ngrok-free.app/webhook\",merchantPaymInfo:{reference:\"84d0070ee4e44667b31371d8f8813947\",destination:\"Подарунок від MISTER GIFTER\",comment:\"Подарунок від MISTER GIFTER\",customerEmails:[\"ivan.kalunuch12@gmail.com\",\"ivan.kalunuch31@gmail.com\"],paymentType:\"debit\",basketOrder:dataAboutCartForMono}})}).then(response=>{return response.json();}).then(data=>{console.log(data);window.location.href=data.pageUrl;}).catch(response=>console.log(response));};const closeMenu=event=>{const clickedElement=event.target;if(clickedElement.className===\"drawer drawer--active\"){setOpenBasket?setOpenBasket(false):console.log(\"not foutn function\");}else{console.log(\"No\");}};return/*#__PURE__*/_jsx(\"section\",{className:isBasketOpen?\"drawer drawer--active\":\"drawer\",onClick:e=>closeMenu(e),children:/*#__PURE__*/_jsxs(\"form\",{className:\"drawer__wrapper\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"drawer__title\",children:[\"\\u0412\\u0430\\u0448\\u0435 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"drawer__exit\",onClick:()=>setOpenBasket&&setOpenBasket(!isBasketOpen)})]}),dataLenght?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"drawer__carts-block\",children:carts.map((cart,index)=>{return/*#__PURE__*/_jsx(DrawerCart,{setOpenBasket:setOpenBasket,removeAdd:removeAdd,increment:increment,onLike:onLike,decrement:decrement,Cart:cart,smallButton:true,action:\"add\"},cart.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer__price\",children:[\"\\u0421\\u0443\\u043C\\u0430 \",price,\" \\u20B4 \"]}),/*#__PURE__*/_jsx(Link,{onClick:()=>setOpenBasket&&setOpenBasket(!isBasketOpen),to:\"/Boxs\",children:/*#__PURE__*/_jsx(\"div\",{className:\"drawer__description\",children:\"\\u0414\\u043E\\u0434\\u0430\\u0439 \\u0431\\u043E\\u043A\\u0441 \\u0434\\u043B\\u044F \\u0432\\u0430\\u0443 \\u0435\\u0444\\u0435\\u043A\\u0442\\u0443! \\u2728\\u2B07\\uFE0F\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"drawer__row\",children:basketBox.map((element,index)=>{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{id:\"\".concat(element.name,\" \").concat(index),className:\"drawer__box-checkbox\",type:\"radio\",name:\"RADIOBOXS\"},index),/*#__PURE__*/_jsxs(\"label\",{onClick:()=>setBoxsPriceBasket(element.price),htmlFor:\"\".concat(element.name,\" \").concat(index),className:\"drawer__box\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/img/\").concat(element.img),className:\"drawer__box-img\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"drawer__box-title\",children:element.name})]},index)]},index);})}),/*#__PURE__*/_jsx(\"h4\",{className:\"drawer__text\",children:\"\\u041F\\u0440\\u0456\\u0437\\u0432\\u0438\\u0449\\u0435 \\u0442\\u0430 \\u0406\\u043C\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"drawer__input\",value:inputName,onChange:e=>setInputName(e.target.value),name:\"name\",type:\"text\",placeholder:\"\\u041F\\u0440\\u0456\\u0437\\u0432\\u0438\\u0449\\u0435 \\u0406\\u043C\\u044F \\u041F\\u043E-\\u0431\\u0430\\u0442\\u044C\\u043A\\u043E\\u0432\\u0456\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"drawer__text\",children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"drawer__input\",type:\"text\",value:phoneNumber,onChange:handleInputChange,placeholder:\"+38 (___) ___-__-__\"}),!isValid&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"\\u041D\\u0435\\u043F\\u0440\\u0438\\u043F\\u0443\\u0441\\u0442\\u0438\\u043C\\u0430 \\u0434\\u043E\\u0432\\u0436\\u0438\\u043D\\u0430 \\u043D\\u043E\\u043C\\u0435\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"drawer__text\",children:\"\\u041C\\u0456\\u0441\\u0442\\u043E:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"City\",className:\"drawer__input\",type:\"text\",value:inputCity,onChange:e=>setInputCity(e.target.value),placeholder:\"\\u043C. \\u041A\\u0438\\u0457\\u0432\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"drawer__text\",children:\"\\u0412\\u0456\\u0434\\u0434\\u0456\\u043B\\u0435\\u043D\\u043D\\u044F \\u041D\\u043E\\u0432\\u043E\\u0457 \\u041F\\u043E\\u0448\\u0442\\u0438:\"}),/*#__PURE__*/_jsx(\"input\",{value:inputDepartments,onChange:e=>setInputDepartments(e.target.value),className:\"drawer__input\",type:\"text\",placeholder:\"\\u21161\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"drawer__text\",children:\"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440:\"}),/*#__PURE__*/_jsx(\"input\",{value:inputComment,onChange:e=>setInputComent(e.target.value),name:\"Comment\",className:\"drawer__input\",type:\"text\",placeholder:\"\\u0417\\u0430\\u043B\\u0438\\u0448\\u0442\\u0435 \\u043A\\u043E\\u043C\\u0435\\u043D\\u0434\\u0430\\u0440 \\u0434\\u043E \\u0441\\u0432\\u043E\\u0433\\u043E \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"drawer__text\",children:\"\\u042F\\u043A \\u0437 \\u0432\\u0430\\u043C\\u0438 \\u0437\\u0432\\u044F\\u0437\\u0430\\u0442\\u0438\\u0441\\u044C\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"drawer__label\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"drawer__label-input\",type:\"radio\",name:\"connection\",value:\"viber\",onClick:e=>setInputMessenger(e.target.value)}),/*#__PURE__*/_jsx(\"h5\",{className:\"drawer__label-title\",children:\"Viber\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"drawer__label\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"drawer__label-input\",type:\"radio\",onClick:e=>setInputMessenger(e.target.value),value:\"telegram\",name:\"connection\",checked:true}),/*#__PURE__*/_jsx(\"h5\",{className:\"drawer__label-title\",children:\"Telegram\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"drawer__text\",children:\"\\u0421\\u043F\\u043E\\u0441\\u0456\\u0431 \\u043E\\u043F\\u043B\\u0430\\u0442\\u0438\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"drawer__label\",children:[/*#__PURE__*/_jsx(\"input\",{onClick:e=>setInputPayment(e.target.value),checked:true,className:\"drawer__label-input\",type:\"radio\",value:\"monopay\",name:\"pay\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"drawer__label-title\",children:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u043E\\u043D\\u043B\\u0430\\u0439\\u043D \\u0437 monopay\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"drawer__label\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"drawer__label-input\",onClick:e=>setInputPayment(e.target.value),type:\"radio\",name:\"pay\",value:\"novaposhta\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"drawer__label-title\",children:\"\\u041F\\u0440\\u0438 \\u043E\\u0442\\u0440\\u0438\\u043C\\u0430\\u043D\\u043D\\u0456 \\u043D\\u0430 \\u043F\\u043E\\u0448\\u0442\\u0456\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer__price\",children:[\"\\u0421\\u0443\\u043C\\u0430 \",price,\" \\u20B4\"]}),formStatus?/*#__PURE__*/_jsx(\"div\",{className:\"drawer__error\",children:\"\\u0411\\u0443\\u0434\\u044C \\u043B\\u0430\\u0441\\u043A\\u0430, \\u0437\\u0430\\u043F\\u043E\\u0432\\u043D\\u0456\\u0442\\u044C \\u0432\\u0441\\u0456 \\u043E\\u0431\\u043E\\u0432'\\u044F\\u0437\\u043A\\u043E\\u0432\\u0456 \\u043F\\u043E\\u043B\\u044F\"}):null,/*#__PURE__*/_jsx(\"button\",{className:\"drawer__button\",type:\"submit\",onClick:e=>onSubmitFunc(e),children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u0438 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"drawer__smallText\",children:[\"\\u041D\\u0430\\u0442\\u0438\\u0441\\u043A\\u0430\\u044E\\u0447\\u0438 \\u043A\\u043D\\u043E\\u043F\\u043A\\u0443, \\u0432\\u0438 \\u043F\\u043E\\u0433\\u043E\\u0434\\u0436\\u0443\\u0454\\u0442\\u0435\\u0441\\u044C \\u0437\",/*#__PURE__*/_jsx(\"span\",{children:\"\\u041F\\u043E\\u043B\\u0456\\u0442\\u0438\\u043A\\u043E\\u044E \\u043A\\u043E\\u043D\\u0444\\u0456\\u0434\\u0435\\u043D\\u0446\\u0456\\u0439\\u043D\\u043E\\u0441\\u0442\\u0456\"}),\" \\u0442\\u0430\",/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0433\\u043E\\u0432\\u043E\\u0440\\u043E\\u043C \\u043F\\u0443\\u0431\\u043B\\u0456\\u0447\\u043D\\u043E\\u0457 \\u043E\\u0444\\u0435\\u0440\\u0442\\u0438\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"like__nothing\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"like__text\",children:\"\\u0412\\u0438 \\u0449\\u0435 \\u043D\\u0456\\u0447\\u043E\\u0433\\u043E \\u043D\\u0435 \\u0437\\u0430\\u043C\\u043E\\u0432\\u0438\\u043B\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"like__button\",onClick:()=>setOpenBasket&&setOpenBasket(!isBasketOpen),children:\"\\u0417\\u0410\\u041C\\u041E\\u0412\\u0418\\u0422\\u0418\"})]})]})});};export default Basket;","map":{"version":3,"names":["React","useEffect","useState","DrawerCart","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Basket","_ref","setAddedCarts","removeAdd","decrement","increment","isBasketOpen","onLike","setBoxsPriceBasket","setOpenBasket","price","carts","boxsPriceBasket","basketBox","setBasketBox","inputName","setInputName","inputPhone","setInputPhone","inputCity","setInputCity","inputDepartments","setInputDepartments","inputComment","setInputComent","inputMessenger","setInputMessenger","inputPayment","setInputPayment","formStatus","setFormStatus","phoneNumber","setPhoneNumber","isValid","setIsValid","handleInputChange","event","input","target","value","formattedInput","trim","startsWith","concat","length","fetch","process","env","PUBLIC_URL","then","response","json","data","catch","console","log","sendMessageToTelegram","TOKEN","CHAT_ID","URL_API","sendText","getCurrentDate","Date","toISOString","split","message","forEach","element","name","type","filter","isActive","count","formData","URLSearchParams","append","method","body","error","sendMessageToBackEnd","orderedCarts","filterCarts","map","index","activeType","quantity","picture","images","properties","activeBoxBasket","actBox","push","img","dataForBack","source_id","client_comment","buyer","full_name","phone","shipping","shipping_address_city","shipping_address_region","products","payments","payment_method_id","payment_method","amount","description","status","mode","headers","Accept","Pragma","JSON","stringify","ok","Error","onSubmitFunc","e","preventDefault","getDataFromMonoUser","dataLenght","dataAboutCartForMono","cart","qty","sum","icoun","unit","barcode","header","footer","tax","uktzed","discounts","oldPrice","redirectUrl","webHookUrl","merchantPaymInfo","reference","destination","comment","customerEmails","paymentType","basketOrder","window","location","href","pageUrl","closeMenu","clickedElement","className","onClick","children","Cart","smallButton","action","id","to","htmlFor","src","onChange","placeholder","style","color","checked"],"sources":["/Users/ivan/Desktop/Mistery/mistergiften/src/components/basket/index.tsx"],"sourcesContent":["import React, {\n  useEffect,\n  useState,\n  ChangeEvent,\n  KeyboardEvent,\n  useRef,\n} from \"react\";\nimport DrawerCart from \"../drawerCart\";\nimport Cart from \"../cart\";\nimport { Link } from \"react-router-dom\";\ninterface PropsType {\n  isLikeOpen?: boolean | undefined;\n  setOpenLike?: (status: boolean) => void;\n  isBasketOpen?: boolean | undefined;\n  setOpenBasket?: (status: boolean) => void;\n  updateCardLike?: any;\n  updateCardAdd?: any;\n  carts?: [];\n  onLike: any;\n  increment: any;\n  decrement: any;\n  setBoxsPriceBasket: any;\n  removeAdd: any;\n  price: number;\n  boxsPriceBasket: any;\n  setAddedCarts: any;\n}\n\ninterface array {\n  name: string;\n  price: number;\n  img: string;\n}\n\nconst Basket: React.FC<PropsType> = ({\n  setAddedCarts,\n  removeAdd,\n  decrement,\n  increment,\n  isBasketOpen,\n  onLike,\n  setBoxsPriceBasket,\n  setOpenBasket,\n  price,\n  carts,\n  boxsPriceBasket,\n}) => {\n  const [basketBox, setBasketBox] = useState([]);\n  const [inputName, setInputName] = useState(\"\");\n  const [inputPhone, setInputPhone] = useState(\"\");\n  const [inputCity, setInputCity] = useState(\"\");\n  const [inputDepartments, setInputDepartments] = useState(\"\");\n  const [inputComment, setInputComent] = useState(\"\");\n  const [inputMessenger, setInputMessenger] = useState(\"viber\");\n  const [inputPayment, setInputPayment] = useState(\"monopay\");\n  const [formStatus, setFormStatus] = useState(false);\n\n  const [phoneNumber, setPhoneNumber] = useState<string>(\"\");\n  const [isValid, setIsValid] = useState<boolean>(true);\n\n  const handleInputChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const input = event.target.value;\n\n    // Виконати перевірки для формату та довжини\n    let formattedInput = input.trim();\n\n    if (formattedInput.startsWith(\"0\")) {\n      formattedInput = `+38${formattedInput}`;\n    } else if (formattedInput.startsWith(\"380\")) {\n      formattedInput = `+${formattedInput}`;\n    } else if (formattedInput.startsWith(\"+\")) {\n      // Нічого не змінюємо\n    } else {\n      // Якщо введений текст не починається з 0, 380 або \"+\", ви можете застосувати ваші власні логіки обробки\n      // Наприклад, додаткові перевірки або ігнорування неприпустимих символів.\n    }\n\n    setIsValid(formattedInput.length >= 13); // Довжина українського номера\n    setPhoneNumber(formattedInput);\n  };\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/basket.json`)\n      .then((response) => response.json())\n      .then((data) => setBasketBox(data))\n      .catch(() => console.log(\"basket not find\"));\n  }, []);\n\n  const sendMessageToTelegram = async (data: any) => {\n    setFormStatus(false);\n\n    const TOKEN = \"6619280299:AAGIL6f6uD5nOU1Sjw26zzqvyI0V_fZZKq0\";\n    const CHAT_ID = \"-1002007095666\";\n    const URL_API = `https://api.telegram.org/bot${TOKEN}`;\n\n    const sendText = () => {\n      const getCurrentDate = new Date().toISOString().split(\"T\")[0];\n      //preparing text for post to telegram\n      let message = `<b>Заявка з сайта! </b>\n      `;\n\n      message += `\nДата створення замовлення: <i>${getCurrentDate}</i> \nІмя замовника <i>${inputName}</i>\nНомер телефону <i>${inputPhone}</i>\nАдреса на яку відправити:\n<i>Місто ${inputCity},\nНомер віділення ${inputDepartments}</i>\nКоментар <i>${inputComment}</i>\n\n<b>Замовлення</b>\nЗагальна сума : <i>${price} грн</i>\n\n<b>Карточки</b>`;\n      data.forEach((element: any) => {\n        message += `\n<b>${element.name} </b>:\n<b>Тип чашки </b> <i>${\n          element.type.length > 0\n            ? element.type.filter((element: any) => element.isActive)[0].name\n            : \"Без типа\"\n        }</i>\nЦіна за чашку:  <i>${element.price}</i> гривень\nКількість чашок: <b>${element.count}</b>\n`;\n      });\n      message += `\n<b>Додатковий бокс, ціна:</b> <i>\n${boxsPriceBasket > 0 ? boxsPriceBasket : \"Бокс не був вибраний\"}</i>\nСпосіб оплати ${inputPayment} \nСпосіб звязку ${inputMessenger}`;\n\n      //preparing sending data\n      const formData = new URLSearchParams();\n      formData.append(\"chat_id\", CHAT_ID);\n      formData.append(\"text\", message);\n      formData.append(\"parse_mode\", \"html\");\n\n      //sending data\n      fetch(`${URL_API}/sendMessage`, {\n        method: \"POST\",\n        body: formData,\n      })\n        .then((response) => {\n          return response;\n        })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Message sent:\", data);\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n        });\n    };\n    sendText();\n    setInputName(\"\");\n    setInputPhone(\"\");\n    setInputCity(\"\");\n    setInputDepartments(\"\");\n    setInputComent(\"\");\n    setAddedCarts([]);\n  };\n\n  const sendMessageToBackEnd = (orderedCarts: any) => {\n    const getCurrentDate = new Date().toISOString().split(\"T\")[0];\n\n    let filterCarts: any = [];\n    filterCarts = orderedCarts.map((element: any, index: any) => {\n      const activeType =\n        element.type.length > 0\n          ? element.type.filter((type: any) => type.isActive)\n          : [];\n\n      return {\n        price: element.price, // Замініть на значення з форми або іншого джерела\n        quantity: element.count,\n        name: element.name, // Замініть на значення з форми або іншого джерела\n        picture: element.images[0], // Замініть на значення з форми або іншого джерела\n        properties:\n          activeType.length > 0\n            ? [\n                {\n                  name: \"Тип чашки\",\n                  value: activeType[0].name,\n                },\n              ]\n            : null,\n      };\n    });\n    try {\n      const activeBoxBasket = () => {\n        return basketBox.filter((element: array) => {\n          return element.price === boxsPriceBasket;\n        });\n      };\n      const actBox: array = activeBoxBasket()[0];\n\n      filterCarts.push({\n        price: actBox.price, // Замініть на значення з форми або іншого джерела\n        quantity: 1,\n        name: actBox.name, // Замініть на значення з форми або іншого джерела\n        picture: actBox.img, // Замініть на значення з форми або іншого джерела\n        properties: [],\n      });\n    } catch {\n      console.log(\"basket is not choose\");\n    }\n\n    const dataForBack = {\n      source_id: 2,\n      client_comment: inputComment,\n      buyer: {\n        full_name: `${inputName}`, // Замініть на значення з форми або іншого джерела\n        // email: \"john.doe@example.com\", // Замініть на значення з форми або іншого джерела\n        phone: `${inputPhone}`, // Замініть на значення з форми або іншого джерела\n      },\n      shipping: {\n        shipping_address_city: `${inputCity}`, // Замініть на значення з форми або іншого джерела\n        shipping_address_region: `${inputDepartments}`, // Замініть на значення з форми або іншого джерела\n      },\n      products: filterCarts,\n      payments:\n        inputPayment === \"monopay\"\n          ? [\n              {\n                payment_method_id: 2,\n                payment_method: \"Monopay\",\n                amount: price,\n                description: \"Авансовий платіж\",\n                status: \"not_paid\",\n              },\n            ]\n          : [\n              {\n                payment_method_id: 2,\n                payment_method: \"Postha\",\n                amount: price,\n                description: \"Авансовий платіж\",\n                status: \"not_paid\",\n              },\n            ],\n    };\n\n    fetch(\"https://bf7d-37-73-102-133.ngrok-free.app/send-to-keycrm\", {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Pragma: \"no-cache\",\n      },\n      body: JSON.stringify(dataForBack),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        return response.json();\n      })\n      .then((data) => console.log(data))\n      .catch((error) => console.error(\"Error:\", error));\n  };\n  const onSubmitFunc = (e: any) => {\n    e.preventDefault();\n    if (\n      inputName.length < 4 ||\n      inputCity.length < 2 ||\n      inputPhone.length <= 10 ||\n      inputDepartments.length < 1\n    ) {\n      setFormStatus(true);\n      return;\n    } else {\n      if (inputPayment === \"monopay\") {\n        getDataFromMonoUser(carts);\n      }\n      sendMessageToTelegram(carts);\n      sendMessageToBackEnd(carts);\n    }\n  };\n\n  const dataLenght = carts?.length;\n\n  const getDataFromMonoUser = (orderedCarts: any) => {\n    const dataAboutCartForMono = orderedCarts.map(\n      (cart: any, index: number) => {\n        return {\n          name: cart.name,\n          qty: cart.count,\n          sum: cart.price * 100,\n          icoun: `${process.env.PUBLIC_URL}/img/${cart.images[0]}`,\n          unit: \"шт.\",\n          barcode: \"string\",\n          header: \"string\",\n          footer: \"string\",\n          tax: [],\n          uktzed: \"string\",\n          discounts: [\n            {\n              type: \"DISCOUNT\",\n              mode: \"VALUE\",\n              value: cart.oldPrice,\n            },\n          ],\n        };\n      }\n    );\n\n    try {\n      const activeBoxBasket = () => {\n        return basketBox.filter((element: array) => {\n          console.log(element.price, boxsPriceBasket);\n          return element.price === boxsPriceBasket;\n        });\n      };\n\n      const actBox: array = activeBoxBasket()[0];\n\n      dataAboutCartForMono.push({\n        name: actBox.name,\n        qty: 1,\n        sum: actBox.price * 100,\n        icoun: `${process.env.PUBLIC_URL}/img/${actBox.img}}`,\n        unit: \"шт.\",\n        barcode: \"string\",\n        header: \"string\",\n        footer: \"string\",\n        tax: [],\n        uktzed: \"string\",\n      });\n    } catch {\n      console.log(\"error\");\n    }\n    fetch(\"https://api.monobank.ua/api/merchant/invoice/create\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Token\": \"utR_bnF6LUzdc4pr3yFNFF2kKEPk75xeIlItZx9QfaxY\",\n      },\n      body: JSON.stringify({\n        amount: price * 100,\n        redirectUrl: \"https://mister-gifter.com/\",\n        webHookUrl: \"https://bf7d-37-73-102-133.ngrok-free.app/webhook\",\n        merchantPaymInfo: {\n          reference: \"84d0070ee4e44667b31371d8f8813947\",\n          destination: \"Подарунок від MISTER GIFTER\",\n          comment: \"Подарунок від MISTER GIFTER\",\n          customerEmails: [\n            \"ivan.kalunuch12@gmail.com\",\n            \"ivan.kalunuch31@gmail.com\",\n          ],\n          paymentType: \"debit\",\n          basketOrder: dataAboutCartForMono,\n        },\n      }),\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data);\n        window.location.href = data.pageUrl;\n      })\n      .catch((response) => console.log(response));\n  };\n\n  const closeMenu = (event: React.MouseEvent<HTMLDivElement>): void => {\n    const clickedElement = event.target as HTMLDivElement;\n    if (clickedElement.className === \"drawer drawer--active\") {\n      setOpenBasket ? setOpenBasket(false) : console.log(\"not foutn function\");\n    } else {\n      console.log(\"No\");\n    }\n  };\n\n  return (\n    <section\n      className={isBasketOpen ? \"drawer drawer--active\" : \"drawer\"}\n      onClick={(e: any) => closeMenu(e)}\n    >\n      <form className=\"drawer__wrapper\">\n        <h2 className=\"drawer__title\">\n          Ваше замовлення:{\" \"}\n          <span\n            className=\"drawer__exit\"\n            onClick={() => setOpenBasket && setOpenBasket(!isBasketOpen)}\n          ></span>\n        </h2>\n        {dataLenght ? (\n          <>\n            <div className=\"drawer__carts-block\">\n              {carts.map((cart: any, index: number) => {\n                return (\n                  <DrawerCart\n                    setOpenBasket={setOpenBasket}\n                    removeAdd={removeAdd}\n                    increment={increment}\n                    onLike={onLike}\n                    decrement={decrement}\n                    Cart={cart}\n                    smallButton={true}\n                    action=\"add\"\n                    key={cart.id}\n                  />\n                );\n              })}\n            </div>\n            <div className=\"drawer__price\">Сума {price} ₴ </div>\n            <Link\n              onClick={() => setOpenBasket && setOpenBasket(!isBasketOpen)}\n              to={\"/Boxs\"}\n            >\n              <div className=\"drawer__description\">\n                Додай бокс для вау ефекту! ✨⬇️\n              </div>\n            </Link>\n            <div className=\"drawer__row\">\n              {basketBox.map((element: any, index: any) => {\n                return (\n                  <div key={index}>\n                    <input\n                      key={index}\n                      id={`${element.name} ${index}`}\n                      className=\"drawer__box-checkbox\"\n                      type=\"radio\"\n                      name=\"RADIOBOXS\"\n                    />\n                    <label\n                      onClick={() => setBoxsPriceBasket(element.price)}\n                      key={index}\n                      htmlFor={`${element.name} ${index}`}\n                      className=\"drawer__box\"\n                    >\n                      <img\n                        src={`${process.env.PUBLIC_URL}/img/${element.img}`}\n                        className=\"drawer__box-img\"\n                      />\n                      <h5 className=\"drawer__box-title\">{element.name}</h5>\n                    </label>\n                  </div>\n                );\n              })}\n            </div>\n            <h4 className=\"drawer__text\">Прізвище та Імя:</h4>\n            <input\n              className=\"drawer__input\"\n              value={inputName}\n              onChange={(e: any) => setInputName(e.target.value)}\n              name=\"name\"\n              type=\"text\"\n              placeholder=\"Прізвище Імя По-батькові\"\n            />\n            <h3 className=\"drawer__text\">Телефон:</h3>\n            <input\n              className=\"drawer__input\"\n              type=\"text\"\n              value={phoneNumber}\n              onChange={handleInputChange}\n              placeholder=\"+38 (___) ___-__-__\"\n            />\n            {!isValid && (\n              <p style={{ color: \"red\" }}>Неприпустима довжина номера</p>\n            )}\n\n            <h4 className=\"drawer__text\">Місто:</h4>\n            <input\n              name=\"City\"\n              className=\"drawer__input\"\n              type=\"text\"\n              value={inputCity}\n              onChange={(e: any) => setInputCity(e.target.value)}\n              placeholder=\"м. Київ\"\n            />\n            <h4 className=\"drawer__text\">Відділення Нової Пошти:</h4>\n            <input\n              value={inputDepartments}\n              onChange={(e: any) => setInputDepartments(e.target.value)}\n              className=\"drawer__input\"\n              type=\"text\"\n              placeholder=\"№1\"\n            />\n            <h4 className=\"drawer__text\">Коментар:</h4>\n            <input\n              value={inputComment}\n              onChange={(e: any) => setInputComent(e.target.value)}\n              name=\"Comment\"\n              className=\"drawer__input\"\n              type=\"text\"\n              placeholder=\"Залиште комендар до свого замовлення\"\n            />\n            <h4 className=\"drawer__text\">Як з вами звязатись</h4>\n            <label className=\"drawer__label\">\n              <input\n                className=\"drawer__label-input\"\n                type=\"radio\"\n                name=\"connection\"\n                value=\"viber\"\n                onClick={(e: any) => setInputMessenger(e.target.value)}\n              />\n              <h5 className=\"drawer__label-title\">Viber</h5>\n            </label>\n            <label className=\"drawer__label\">\n              <input\n                className=\"drawer__label-input\"\n                type=\"radio\"\n                onClick={(e: any) => setInputMessenger(e.target.value)}\n                value=\"telegram\"\n                name=\"connection\"\n                checked\n              />\n              <h5 className=\"drawer__label-title\">Telegram</h5>\n            </label>\n            <h4 className=\"drawer__text\">Спосіб оплати</h4>\n            <label className=\"drawer__label\">\n              <input\n                onClick={(e: any) => setInputPayment(e.target.value)}\n                checked\n                className=\"drawer__label-input\"\n                type=\"radio\"\n                value=\"monopay\"\n                name=\"pay\"\n              />\n              <h5 className=\"drawer__label-title\">Оплата онлайн з monopay</h5>\n            </label>\n            <label className=\"drawer__label\">\n              <input\n                className=\"drawer__label-input\"\n                onClick={(e: any) => setInputPayment(e.target.value)}\n                type=\"radio\"\n                name=\"pay\"\n                value=\"novaposhta\"\n              />\n              <h5 className=\"drawer__label-title\">При отриманні на пошті</h5>\n            </label>\n            <div className=\"drawer__price\">Сума {price} ₴</div>\n            {formStatus ? (\n              <div className=\"drawer__error\">\n                Будь ласка, заповніть всі обов'язкові поля\n              </div>\n            ) : null}\n            <button\n              className=\"drawer__button\"\n              type=\"submit\"\n              onClick={(e: any) => onSubmitFunc(e)}\n            >\n              Оформити замовлення\n            </button>\n            <p className=\"drawer__smallText\">\n              Натискаючи кнопку, ви погоджуєтесь з\n              <span>Політикою конфіденційності</span> та\n              <span>Договором публічної оферти</span>\n            </p>\n          </>\n        ) : (\n          <div className=\"like__nothing\">\n            <h2 className=\"like__text\">Ви ще нічого не замовили</h2>\n            <button\n              className=\"like__button\"\n              onClick={() => setOpenBasket && setOpenBasket(!isBasketOpen)}\n            >\n              ЗАМОВИТИ\n            </button>\n          </div>\n        )}\n      </form>\n    </section>\n  );\n};\n\nexport default Basket;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}