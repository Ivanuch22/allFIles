{"ast":null,"code":"import axios from\"axios\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DrawerCart=_ref=>{let{smallButton,Cart,updateCard,action}=_ref;const handleClick=(element,action)=>{element.preventDefault();// Оновити карточку та викликати функцію оновлення в CardList\nconst updatedCard=action===\"like\"?{...Cart,isLike:!Cart.isLike}:{...Cart,isAdd:!Cart.isAdd};updateCard(updatedCard);// Відправлення запиту на сервер для збереження змін в базі даних\nswitch(action){case\"like\":axios.put(\"https://65646353ceac41c0761e1278.mockapi.io/data/\".concat(Cart.id),{isLike:!Cart.isLike}).then(response=>console.log(\"Like status updated successfully\")).catch(error=>console.error(\"Error updating like status:\",error));break;case\"add\":axios.put(\"https://65646353ceac41c0761e1278.mockapi.io/data/\".concat(Cart.id),{isAdd:!Cart.isAdd}).then(response=>console.log(\"Like status updated successfully\")).catch(error=>console.error(\"Error updating like status:\",error));break;default:return;}};const CheckData=()=>{if(smallButton){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"drawer__cart-minus\",children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{className:\"drawer__cart-counter\",children:\"1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"drawer__cart-plus\",children:\"+\"})]});}else{return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"drawer__cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"drawer__cart-img-block\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/img/carts/\").concat(Cart.images[0]),className:\"drawer__cart-img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer__cart-text\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"drawer__cart-title\",children:Cart.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"drawer__cart-text-wrapper\",children:[/*#__PURE__*/_jsx(CheckData,{}),/*#__PURE__*/_jsx(\"p\",{className:\"drawer__cart-price\",children:Cart.price})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleClick(e,action),className:\"drawer__button-remove\"})]});};export default DrawerCart;","map":{"version":3,"names":["axios","React","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DrawerCart","_ref","smallButton","Cart","updateCard","action","handleClick","element","preventDefault","updatedCard","isLike","isAdd","put","concat","id","then","response","console","log","catch","error","CheckData","children","className","src","process","env","PUBLIC_URL","images","name","price","onClick","e"],"sources":["/Users/ivan/Desktop/Mistery/mistergiften/src/components/drawerCart/index.tsx"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\ninterface PropTypes {\n  smallButton: boolean;\n  Cart?: any;\n  updateCard: any;\n  action: string;\n}\nconst DrawerCart: React.FC<PropTypes> = ({\n  smallButton,\n  Cart,\n  updateCard,\n  action,\n}) => {\n  const handleClick = (\n    element: React.MouseEvent<HTMLButtonElement>,\n    action: string\n  ) => {\n    element.preventDefault();\n    // Оновити карточку та викликати функцію оновлення в CardList\n\n    const updatedCard =\n      action === \"like\"\n        ? { ...Cart, isLike: !Cart.isLike }\n        : { ...Cart, isAdd: !Cart.isAdd };\n    updateCard(updatedCard);\n\n    // Відправлення запиту на сервер для збереження змін в базі даних\n    switch (action) {\n      case \"like\":\n        axios\n          .put(`https://65646353ceac41c0761e1278.mockapi.io/data/${Cart.id}`, {\n            isLike: !Cart.isLike,\n          })\n          .then((response) => console.log(\"Like status updated successfully\"))\n          .catch((error) =>\n            console.error(\"Error updating like status:\", error)\n          );\n        break;\n      case \"add\":\n        axios\n          .put(`https://65646353ceac41c0761e1278.mockapi.io/data/${Cart.id}`, {\n            isAdd: !Cart.isAdd,\n          })\n          .then((response) => console.log(\"Like status updated successfully\"))\n          .catch((error) =>\n            console.error(\"Error updating like status:\", error)\n          );\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  const CheckData = () => {\n    if (smallButton) {\n      return (\n        <>\n          <p className=\"drawer__cart-minus\">-</p>\n          <p className=\"drawer__cart-counter\">1</p>\n          <p className=\"drawer__cart-plus\">+</p>\n        </>\n      );\n    } else {\n      return null;\n    }\n  };\n  return (\n    <div className=\"drawer__cart\">\n      <div className=\"drawer__cart-img-block\">\n        <img\n          src={`${process.env.PUBLIC_URL}/img/carts/${Cart.images[0]}`}\n          className=\"drawer__cart-img\"\n        />\n      </div>\n      <div className=\"drawer__cart-text\">\n        <h4 className=\"drawer__cart-title\">{Cart.name}</h4>\n        <div className=\"drawer__cart-text-wrapper\">\n          <CheckData />\n          <p className=\"drawer__cart-price\">{Cart.price}</p>\n        </div>\n      </div>\n\n      <button\n        onClick={(e) => handleClick(e, action)}\n        className=\"drawer__button-remove\"\n      ></button>\n    </div>\n  );\n};\nexport default DrawerCart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}