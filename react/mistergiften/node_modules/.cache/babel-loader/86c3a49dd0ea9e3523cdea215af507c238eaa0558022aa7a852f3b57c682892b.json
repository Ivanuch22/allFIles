{"ast":null,"code":"var _jsxFileName = \"/Users/ivan/Desktop/Mistery/mistergiften/src/components/basket/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Basket = ({\n  removeAllAdded,\n  removeAdd,\n  decrement,\n  increment,\n  isBasketOpen,\n  onLike,\n  setBoxsPriceBasket,\n  setOpenBasket,\n  price,\n  carts,\n  boxsPriceBasket\n}) => {\n  _s();\n  const [basketBox, setBasketBox] = useState([]);\n  const [inputMessenger, setInputMessenger] = useState(\"viber\");\n  const [inputPayment, setInputPayment] = useState(\"monopay\");\n  const [isValid, setIsValid] = useState(true);\n  const [isShowMessage, setShowMessage] = useState(false);\n  const [listCityes, setListCityes] = useState([]);\n  const [novaDepartment, setNovaDepartment] = useState([]);\n  const [activeCity, setActiveCity] = useState({\n    Present: \"\",\n    MainDescription: \"\"\n  });\n  const [isShowCity, setShowCity] = useState(false);\n  const [isShowDepartment, setShowDepartment] = useState(true);\n  const [inputData, setInputData] = useState({\n    fullName: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\"\n    },\n    phoneNumber: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\"\n    },\n    city: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\"\n    },\n    novaPoshtaBranch: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\"\n    },\n    comment: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\"\n    }\n  });\n  const testApiNovaPoshta = async value => {\n    const url = \"https://api.novaposhta.ua/v2.0/json/\";\n    const key = \"fac23a4d2d34c603535680b0e25fac94\";\n    const response = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        apiKey: key,\n        modelName: \"Address\",\n        calledMethod: \"searchSettlements\",\n        methodProperties: {\n          CityName: value,\n          Limit: \"5\",\n          Page: \"1\"\n        }\n      })\n    });\n    const {\n      data,\n      success\n    } = await response.json();\n    if (success) {\n      const newData = data[0].Addresses.map(citi => ({\n        ...citi,\n        isActive: false\n      }));\n      setListCityes(newData);\n      setShowCity(true);\n    }\n  };\n  const Department = async value => {\n    console.log(activeCity.MainDescription);\n    const url = \"https://api.novaposhta.ua/v2.0/json/\";\n    const key = \"fac23a4d2d34c603535680b0e25fac94\";\n    const response = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        apiKey: key,\n        modelName: \"Address\",\n        calledMethod: \"getWarehouses\",\n        methodProperties: {\n          CityName: activeCity.MainDescription,\n          Page: \"1\",\n          Limit: \"5\",\n          Language: \"UA\",\n          WarehouseId: value\n        }\n      })\n    });\n    const {\n      data,\n      success\n    } = await response.json();\n    if (success) {\n      const newData = data.map(Department => ({\n        ...Department,\n        isActive: false\n      }));\n      setNovaDepartment(newData);\n      setShowDepartment(true);\n    }\n  };\n  const clearAllValues = () => {\n    const updatedInputData = {};\n    Object.keys(inputData).forEach(key => {\n      updatedInputData[key] = {\n        value: \"\",\n        isValid: true,\n        errorMessage: \"\"\n      };\n    });\n    setInputData(updatedInputData);\n  };\n  const onChangeInput = even => {\n    let {\n      name,\n      value\n    } = even.target;\n    let isValid = true;\n    let errorMessage = \"\";\n    switch (name) {\n      case \"fullName\":\n        value.length > 5 ? isValid = true : isValid = false;\n        errorMessage = isValid ? \"\" : \"Мінімальна довжина 5 букв\";\n        break;\n      case \"phoneNumber\":\n        value = handleInputChange(value);\n        value.length === 13 ? isValid = true : isValid = false;\n        errorMessage = isValid ? \"\" : \"Ведіть правильно номер телефону\";\n        break;\n      case \"city\":\n        value.length > 2 ? isValid = true : isValid = false;\n        testApiNovaPoshta(value);\n        errorMessage = isValid ? \"\" : \"Мінімальна довжина 3 букв\";\n        break;\n      case \"novaPoshtaBranch\":\n        Department(value);\n        value.length > 0 ? isValid = true : isValid = false;\n        errorMessage = isValid ? \"\" : \"Виберіть номер віділення\";\n        break;\n      default:\n        break;\n    }\n    setInputData(prevData => ({\n      ...prevData,\n      [name]: {\n        value,\n        isValid,\n        errorMessage\n      }\n    }));\n  };\n  const handleInputChange = value => {\n    // Виконати перевірки для формату та довжини\n    let formattedInput = value.trim();\n    if (formattedInput.startsWith(\"0\")) {\n      formattedInput = `+38${formattedInput}`;\n    } else if (formattedInput.startsWith(\"380\")) {\n      formattedInput = `+${formattedInput}`;\n    } else if (formattedInput.startsWith(\"+\")) {\n      // Нічого не змінюємо\n    } else {\n      // Якщо введений текст не починається з 0, 380 або \"+\", ви можете застосувати ваші власні логіки обробки\n      // Наприклад, додаткові перевірки або ігнорування неприпустимих символів.\n    }\n    return formattedInput;\n  };\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/basket.json`).then(response => response.json()).then(data => setBasketBox(data)).catch(() => console.log(\"basket not find\"));\n  }, []);\n  const sendMessageToTelegram = async data => {\n    const TOKEN = \"6619280299:AAGIL6f6uD5nOU1Sjw26zzqvyI0V_fZZKq0\";\n    const CHAT_ID = \"-1002007095666\";\n    const URL_API = `https://api.telegram.org/bot${TOKEN}`;\n    let message = `<b>Заявка з сайта! </b>\n      `;\n    message += `\nІмя замовника <i>${inputData.fullName.value}</i>\nНомер телефону <i>${inputData.phoneNumber.value}</i>\nАдреса на яку відправити:\n<i>Місто ${inputData.city.value},\nНомер віділення ${inputData.novaPoshtaBranch.value}</i>\nКоментар <i>${inputData.comment.value}</i>\n\n<b>Замовлення</b>\nЗагальна сума : <i>${price} грн</i>\n\n<b>Карточки</b>`;\n    data.forEach(element => {\n      message += `\n<b>${element.name} </b>:\n<b>Тип чашки </b> <i>${element.type.length > 0 ? element.type.filter(element => element.isActive)[0].name : \"Без типа\"}</i>\nЦіна за чашку:  <i>${element.price}</i> гривень\nКількість чашок: <b>${element.count}</b>\n`;\n    });\n    message += `\n<b>Додатковий бокс, ціна:</b> <i>\n${boxsPriceBasket > 0 ? boxsPriceBasket : \"Бокс не був вибраний\"}</i>\nСпосіб оплати ${inputPayment} \nСпосіб звязку ${inputMessenger}`;\n\n    //preparing sending data\n    const formData = new URLSearchParams();\n    formData.append(\"chat_id\", CHAT_ID);\n    formData.append(\"text\", message);\n    formData.append(\"parse_mode\", \"html\");\n\n    //sending data\n    fetch(`${URL_API}/sendMessage`, {\n      method: \"POST\",\n      body: formData\n    }).then(response => {\n      return response;\n    }).then(response => response.json()).then(data => {\n      console.log(\"Message sent:\", data);\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  };\n  const sendMessageToBackEnd = orderedCarts => {\n    let filterCarts = [];\n    filterCarts = orderedCarts.map((element, index) => {\n      const activeType = element.type.length > 0 ? element.type.filter(type => type.isActive) : [];\n      return {\n        price: element.price,\n        // Замініть на значення з форми або іншого джерела\n        quantity: element.count,\n        name: element.name,\n        // Замініть на значення з форми або іншого джерела\n        picture: `https://kalynych.fun/img/${element.images[0]}`,\n        // Замініть на значення з форми або іншого джерела\n        properties: activeType.length > 0 ? [{\n          name: \"Тип чашки\",\n          value: activeType[0].name\n        }] : null\n      };\n    });\n    try {\n      const activeBoxBasket = () => {\n        return basketBox.filter(element => {\n          return element.price === boxsPriceBasket;\n        });\n      };\n      const actBox = activeBoxBasket()[0];\n      filterCarts.push({\n        price: actBox.price,\n        // Замініть на значення з форми або іншого джерела\n        quantity: 1,\n        name: actBox.name,\n        // Замініть на значення з форми або іншого джерела\n        picture: actBox.img,\n        // Замініть на значення з форми або іншого джерела\n        properties: []\n      });\n    } catch {\n      console.log(\"basket is not choose\");\n    }\n    const dataForBack = {\n      source_id: 2,\n      client_comment: inputData.comment,\n      buyer: {\n        full_name: `${inputData.fullName.value}`,\n        // Замініть на значення з форми або іншого джерела\n        // email: \"john.doe@example.com\", // Замініть на значення з форми або іншого джерела\n        phone: `${inputData.phoneNumber.value}` // Замініть на значення з форми або іншого джерела\n      },\n\n      shipping: {\n        shipping_address_city: `${inputData.phoneNumber.value}`,\n        // Замініть на значення з форми або іншого джерела\n        shipping_address_region: `${inputData.novaPoshtaBranch.value}` // Замініть на значення з форми або іншого джерела\n      },\n\n      products: filterCarts\n    };\n    fetch(`https://7dd6-88-154-66-202.ngrok-free.app/send-to-keycrm`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Pragma: \"no-cache\"\n      },\n      body: JSON.stringify(dataForBack)\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      if (inputPayment === \"monopay\") {\n        getDataFromMonoUser(carts, data.id);\n      }\n    }).catch(error => console.error(\"Error:\", error));\n  };\n  const onSubmitFunc = async e => {\n    e.preventDefault();\n    const areAllInputsValid = Object.values(inputData).every(field => field.value.length > 0 && field.isValid);\n    const newArr = {};\n    for (const fieldName in inputData) {\n      const element = inputData[fieldName];\n      element.value.length === 0 && element.isValid ? element.isValid = false : element.isValid = true;\n      newArr[fieldName] = element;\n    }\n    setInputData(newArr);\n    setIsValid(areAllInputsValid);\n    if (areAllInputsValid) {\n      // await sendMessageToTelegram(carts);\n      // await sendMessageToBackEnd(carts);\n      clearAllValues();\n      removeAllAdded();\n      return;\n    } else {\n      return;\n    }\n  };\n  const dataLenght = carts === null || carts === void 0 ? void 0 : carts.length;\n  const getDataFromMonoUser = (orderedCarts, id) => {\n    const dataAboutCartForMono = orderedCarts.map((cart, index) => {\n      return {\n        name: cart.name,\n        qty: cart.count,\n        sum: cart.price * 100,\n        icon: `https://kalynych.fun/img/${cart.images[0]}`,\n        unit: \"шт.\",\n        barcode: \"string\",\n        header: \"string\",\n        footer: \"string\",\n        tax: [],\n        uktzed: \"string\",\n        discounts: [{\n          type: \"DISCOUNT\",\n          mode: \"VALUE\",\n          value: cart.oldPrice\n        }]\n      };\n    });\n    try {\n      const activeBoxBasket = () => {\n        return basketBox.filter(element => {\n          console.log(element.price, boxsPriceBasket);\n          return element.price === boxsPriceBasket;\n        });\n      };\n      const actBox = activeBoxBasket()[0];\n      dataAboutCartForMono.push({\n        name: actBox.name,\n        qty: 1,\n        sum: actBox.price * 100,\n        icoun: `${process.env.PUBLIC_URL}/img/${actBox.img}}`,\n        unit: \"шт.\",\n        barcode: \"string\",\n        header: \"string\",\n        footer: \"string\",\n        tax: [],\n        uktzed: \"string\"\n      });\n    } catch {\n      console.log(\"error\");\n    }\n    fetch(\"https://api.monobank.ua/api/merchant/invoice/create\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Token\": \"utR_bnF6LUzdc4pr3yFNFF2kKEPk75xeIlItZx9QfaxY\"\n      },\n      body: JSON.stringify({\n        amount: price * 100,\n        redirectUrl: \"http://kalynych.fun\",\n        webHookUrl: `https://7dd6-88-154-66-202.ngrok-free.app/webhook`,\n        merchantPaymInfo: {\n          reference: `${id}_84d0070ee4e44667b31371d8f8813947`,\n          destination: \"Подарунок від MISTER GIFTER\",\n          comment: \"Подарунок від MISTER GIFTER\",\n          customerEmails: [\"ivan.kalunuch12@gmail.com\", \"ivan.kalunuch31@gmail.com\"],\n          paymentType: \"debit\",\n          basketOrder: dataAboutCartForMono\n        }\n      })\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      window.location.href = data.pageUrl;\n    }).catch(response => console.log(response));\n  };\n  const closeMenu = event => {\n    const clickedElement = event.target;\n    if (clickedElement.className === \"drawer drawer--active\") {\n      setOpenBasket ? setOpenBasket(false) : console.log(\"not foutn function\");\n    } else {\n      console.log(\"No\");\n    }\n  };\n  return {};\n};\n_s(Basket, \"X+ajGAjwrHASSuzQoCM/2AbI3YE=\");\n_c = Basket;\nconst ModalMessage = ({\n  status\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ModalMessage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ModalMessage_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"ModalMessage_title\",\n        children: \"\\u0417\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F \\u043E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ModalMessage_description\",\n        children: \"\\u0417\\u0433\\u043E\\u0434\\u043E\\u043C \\u0437 \\u0432\\u0430\\u043C\\u0438 \\u0437\\u0432\\u044F\\u0436\\u0435\\u0442\\u044C\\u0441\\u044F \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440 :)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ModalMessage_text\",\n        children: [\"\\u0414\\u043B\\u044F \\u0448\\u0432\\u0438\\u0434\\u0448\\u043E\\u0457 \\u043E\\u0431\\u0440\\u043E\\u0431\\u043A\\u0438 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F, \\u043A\\u0440\\u0430\\u0449\\u0435 \\u043D\\u0430\\u043F\\u0438\\u0448\\u0456\\u0442\\u044C \\u043D\\u0430\\u043C \\u0432\", /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"ModalMessage_viber\",\n          href: \"https://t.me/mister_gifter\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"\\u0422\\u0435\\u043B\\u0435\\u0433\\u0440\\u0430\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this), \"\\u0430\\u0431\\u043E\", /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"ModalMessage_telegram\",\n          href: \"viber://chat?number=%2B380639652780/\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Viber\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ModalMessage_button\",\n        children: \"\\u0413\\u043E\\u043B\\u043E\\u0432\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 521,\n    columnNumber: 5\n  }, this);\n};\n_c2 = ModalMessage;\nexport default Basket;\nvar _c, _c2;\n$RefreshReg$(_c, \"Basket\");\n$RefreshReg$(_c2, \"ModalMessage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Basket","removeAllAdded","removeAdd","decrement","increment","isBasketOpen","onLike","setBoxsPriceBasket","setOpenBasket","price","carts","boxsPriceBasket","_s","basketBox","setBasketBox","inputMessenger","setInputMessenger","inputPayment","setInputPayment","isValid","setIsValid","isShowMessage","setShowMessage","listCityes","setListCityes","novaDepartment","setNovaDepartment","activeCity","setActiveCity","Present","MainDescription","isShowCity","setShowCity","isShowDepartment","setShowDepartment","inputData","setInputData","fullName","value","errorMessage","phoneNumber","city","novaPoshtaBranch","comment","testApiNovaPoshta","url","key","response","fetch","method","body","JSON","stringify","apiKey","modelName","calledMethod","methodProperties","CityName","Limit","Page","data","success","json","newData","Addresses","map","citi","isActive","Department","console","log","Language","WarehouseId","clearAllValues","updatedInputData","Object","keys","forEach","onChangeInput","even","name","target","length","handleInputChange","prevData","formattedInput","trim","startsWith","process","env","PUBLIC_URL","then","catch","sendMessageToTelegram","TOKEN","CHAT_ID","URL_API","message","element","type","filter","count","formData","URLSearchParams","append","error","sendMessageToBackEnd","orderedCarts","filterCarts","index","activeType","quantity","picture","images","properties","activeBoxBasket","actBox","push","img","dataForBack","source_id","client_comment","buyer","full_name","phone","shipping","shipping_address_city","shipping_address_region","products","headers","Accept","Pragma","ok","Error","status","getDataFromMonoUser","id","onSubmitFunc","e","preventDefault","areAllInputsValid","values","every","field","newArr","fieldName","dataLenght","dataAboutCartForMono","cart","qty","sum","icon","unit","barcode","header","footer","tax","uktzed","discounts","mode","oldPrice","icoun","amount","redirectUrl","webHookUrl","merchantPaymInfo","reference","destination","customerEmails","paymentType","basketOrder","window","location","href","pageUrl","closeMenu","event","clickedElement","className","_c","ModalMessage","children","fileName","_jsxFileName","lineNumber","columnNumber","rel","_c2","$RefreshReg$"],"sources":["/Users/ivan/Desktop/Mistery/mistergiften/src/components/basket/index.tsx"],"sourcesContent":["import React, { useEffect, useState, ChangeEvent } from \"react\";\nimport DrawerCart from \"../drawerCart\";\nimport { Link } from \"react-router-dom\";\ninterface PropsType {\n  isLikeOpen?: boolean | undefined;\n  setOpenLike?: (status: boolean) => void;\n  isBasketOpen?: boolean | undefined;\n  setOpenBasket?: (status: boolean) => void;\n  updateCardLike?: any;\n  updateCardAdd?: any;\n  carts?: [];\n  onLike: any;\n  increment: any;\n  decrement: any;\n  setBoxsPriceBasket: any;\n  removeAdd: any;\n  price: number;\n  boxsPriceBasket: any;\n  setAddedCarts: any;\n  removeAllAdded: any;\n}\n\ninterface array {\n  name: string;\n  price: number;\n  img: string;\n}\n\ninterface InputData {\n  fullName: {\n    value: string;\n    isValid: boolean;\n    errorMessage: string;\n  };\n  phoneNumber: {\n    value: string;\n    isValid: boolean;\n    errorMessage: string;\n  };\n  city: {\n    value: string;\n    isValid: boolean;\n    errorMessage: string;\n  };\n  novaPoshtaBranch: {\n    value: string;\n    isValid: boolean;\n    errorMessage: string;\n  };\n  comment: {\n    value: string;\n    isValid: boolean;\n    errorMessage: string;\n  };\n}\n\ninterface ActiveCity {\n  Present: string;\n  MainDescription: string;\n}\n\nconst Basket: React.FC<PropsType> = ({\n  removeAllAdded,\n  removeAdd,\n  decrement,\n  increment,\n  isBasketOpen,\n  onLike,\n  setBoxsPriceBasket,\n  setOpenBasket,\n  price,\n  carts,\n  boxsPriceBasket,\n}) => {\n  const [basketBox, setBasketBox] = useState([]);\n  const [inputMessenger, setInputMessenger] = useState(\"viber\");\n  const [inputPayment, setInputPayment] = useState(\"monopay\");\n  const [isValid, setIsValid] = useState<boolean>(true);\n  const [isShowMessage, setShowMessage] = useState(false);\n\n  const [listCityes, setListCityes] = useState([]);\n  const [novaDepartment, setNovaDepartment] = useState([]);\n\n  const [activeCity, setActiveCity] = useState<ActiveCity>({\n    Present: \"\",\n    MainDescription: \"\",\n  });\n  const [isShowCity, setShowCity] = useState(false);\n  const [isShowDepartment, setShowDepartment] = useState(true);\n  const [inputData, setInputData] = useState<InputData>({\n    fullName: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\",\n    },\n    phoneNumber: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\",\n    },\n    city: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\",\n    },\n    novaPoshtaBranch: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\",\n    },\n    comment: {\n      value: \"\",\n      isValid: true,\n      errorMessage: \"\",\n    },\n  });\n  const testApiNovaPoshta = async (value: string) => {\n    const url = \"https://api.novaposhta.ua/v2.0/json/\";\n    const key = \"fac23a4d2d34c603535680b0e25fac94\";\n    const response: any = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        apiKey: key,\n        modelName: \"Address\",\n        calledMethod: \"searchSettlements\",\n        methodProperties: {\n          CityName: value,\n          Limit: \"5\",\n          Page: \"1\",\n        },\n      }),\n    });\n    const { data, success } = await response.json();\n    if (success) {\n      const newData = data[0].Addresses.map((citi: any) => ({\n        ...citi,\n        isActive: false,\n      }));\n      setListCityes(newData);\n      setShowCity(true);\n    }\n  };\n  const Department = async (value: string) => {\n    console.log(activeCity.MainDescription);\n    const url = \"https://api.novaposhta.ua/v2.0/json/\";\n    const key = \"fac23a4d2d34c603535680b0e25fac94\";\n    const response: any = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        apiKey: key,\n        modelName: \"Address\",\n        calledMethod: \"getWarehouses\",\n        methodProperties: {\n          CityName: activeCity.MainDescription,\n          Page: \"1\",\n          Limit: \"5\",\n          Language: \"UA\",\n          WarehouseId: value,\n        },\n      }),\n    });\n    const { data, success } = await response.json();\n    if (success) {\n      const newData = data.map((Department: any) => ({\n        ...Department,\n        isActive: false,\n      }));\n      setNovaDepartment(newData);\n      setShowDepartment(true);\n    }\n  };\n  const clearAllValues = () => {\n    const updatedInputData: any = {};\n\n    Object.keys(inputData).forEach((key) => {\n      updatedInputData[key] = {\n        value: \"\",\n        isValid: true,\n        errorMessage: \"\",\n      };\n    });\n\n    setInputData(updatedInputData);\n  };\n  const onChangeInput = (\n    even: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    let { name, value } = even.target;\n    let isValid = true;\n    let errorMessage = \"\";\n    switch (name) {\n      case \"fullName\":\n        value.length > 5 ? (isValid = true) : (isValid = false);\n        errorMessage = isValid ? \"\" : \"Мінімальна довжина 5 букв\";\n        break;\n      case \"phoneNumber\":\n        value = handleInputChange(value);\n        value.length === 13 ? (isValid = true) : (isValid = false);\n        errorMessage = isValid ? \"\" : \"Ведіть правильно номер телефону\";\n        break;\n      case \"city\":\n        value.length > 2 ? (isValid = true) : (isValid = false);\n        testApiNovaPoshta(value);\n        errorMessage = isValid ? \"\" : \"Мінімальна довжина 3 букв\";\n        break;\n      case \"novaPoshtaBranch\":\n        Department(value);\n        value.length > 0 ? (isValid = true) : (isValid = false);\n        errorMessage = isValid ? \"\" : \"Виберіть номер віділення\";\n        break;\n      default:\n        break;\n    }\n    setInputData((prevData) => ({\n      ...prevData,\n      [name]: {\n        value,\n        isValid,\n        errorMessage,\n      },\n    }));\n  };\n\n  const handleInputChange = (value: string) => {\n    // Виконати перевірки для формату та довжини\n    let formattedInput = value.trim();\n\n    if (formattedInput.startsWith(\"0\")) {\n      formattedInput = `+38${formattedInput}`;\n    } else if (formattedInput.startsWith(\"380\")) {\n      formattedInput = `+${formattedInput}`;\n    } else if (formattedInput.startsWith(\"+\")) {\n      // Нічого не змінюємо\n    } else {\n      // Якщо введений текст не починається з 0, 380 або \"+\", ви можете застосувати ваші власні логіки обробки\n      // Наприклад, додаткові перевірки або ігнорування неприпустимих символів.\n    }\n    return formattedInput;\n  };\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/basket.json`)\n      .then((response) => response.json())\n      .then((data) => setBasketBox(data))\n      .catch(() => console.log(\"basket not find\"));\n  }, []);\n\n  const sendMessageToTelegram = async (data: any) => {\n    const TOKEN = \"6619280299:AAGIL6f6uD5nOU1Sjw26zzqvyI0V_fZZKq0\";\n    const CHAT_ID = \"-1002007095666\";\n    const URL_API = `https://api.telegram.org/bot${TOKEN}`;\n\n    let message = `<b>Заявка з сайта! </b>\n      `;\n\n    message += `\nІмя замовника <i>${inputData.fullName.value}</i>\nНомер телефону <i>${inputData.phoneNumber.value}</i>\nАдреса на яку відправити:\n<i>Місто ${inputData.city.value},\nНомер віділення ${inputData.novaPoshtaBranch.value}</i>\nКоментар <i>${inputData.comment.value}</i>\n\n<b>Замовлення</b>\nЗагальна сума : <i>${price} грн</i>\n\n<b>Карточки</b>`;\n    data.forEach((element: any) => {\n      message += `\n<b>${element.name} </b>:\n<b>Тип чашки </b> <i>${\n        element.type.length > 0\n          ? element.type.filter((element: any) => element.isActive)[0].name\n          : \"Без типа\"\n      }</i>\nЦіна за чашку:  <i>${element.price}</i> гривень\nКількість чашок: <b>${element.count}</b>\n`;\n    });\n    message += `\n<b>Додатковий бокс, ціна:</b> <i>\n${boxsPriceBasket > 0 ? boxsPriceBasket : \"Бокс не був вибраний\"}</i>\nСпосіб оплати ${inputPayment} \nСпосіб звязку ${inputMessenger}`;\n\n    //preparing sending data\n    const formData = new URLSearchParams();\n    formData.append(\"chat_id\", CHAT_ID);\n    formData.append(\"text\", message);\n    formData.append(\"parse_mode\", \"html\");\n\n    //sending data\n    fetch(`${URL_API}/sendMessage`, {\n      method: \"POST\",\n      body: formData,\n    })\n      .then((response) => {\n        return response;\n      })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"Message sent:\", data);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  };\n\n  const sendMessageToBackEnd = (orderedCarts: any) => {\n    let filterCarts: any = [];\n    filterCarts = orderedCarts.map((element: any, index: any) => {\n      const activeType =\n        element.type.length > 0\n          ? element.type.filter((type: any) => type.isActive)\n          : [];\n\n      return {\n        price: element.price, // Замініть на значення з форми або іншого джерела\n        quantity: element.count,\n        name: element.name, // Замініть на значення з форми або іншого джерела\n        picture: `https://kalynych.fun/img/${element.images[0]}`, // Замініть на значення з форми або іншого джерела\n        properties:\n          activeType.length > 0\n            ? [\n                {\n                  name: \"Тип чашки\",\n                  value: activeType[0].name,\n                },\n              ]\n            : null,\n      };\n    });\n    try {\n      const activeBoxBasket = () => {\n        return basketBox.filter((element: array) => {\n          return element.price === boxsPriceBasket;\n        });\n      };\n      const actBox: array = activeBoxBasket()[0];\n\n      filterCarts.push({\n        price: actBox.price, // Замініть на значення з форми або іншого джерела\n        quantity: 1,\n        name: actBox.name, // Замініть на значення з форми або іншого джерела\n        picture: actBox.img, // Замініть на значення з форми або іншого джерела\n        properties: [],\n      });\n    } catch {\n      console.log(\"basket is not choose\");\n    }\n\n    const dataForBack = {\n      source_id: 2,\n      client_comment: inputData.comment,\n      buyer: {\n        full_name: `${inputData.fullName.value}`, // Замініть на значення з форми або іншого джерела\n        // email: \"john.doe@example.com\", // Замініть на значення з форми або іншого джерела\n        phone: `${inputData.phoneNumber.value}`, // Замініть на значення з форми або іншого джерела\n      },\n      shipping: {\n        shipping_address_city: `${inputData.phoneNumber.value}`, // Замініть на значення з форми або іншого джерела\n        shipping_address_region: `${inputData.novaPoshtaBranch.value}`, // Замініть на значення з форми або іншого джерела\n      },\n      products: filterCarts,\n    };\n\n    fetch(`https://7dd6-88-154-66-202.ngrok-free.app/send-to-keycrm`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Pragma: \"no-cache\",\n      },\n      body: JSON.stringify(dataForBack),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data);\n        if (inputPayment === \"monopay\") {\n          getDataFromMonoUser(carts, data.id);\n        }\n      })\n      .catch((error) => console.error(\"Error:\", error));\n  };\n\n  const onSubmitFunc = async (e: any) => {\n    e.preventDefault();\n\n    const areAllInputsValid = Object.values(inputData).every(\n      (field) => field.value.length > 0 && field.isValid\n    );\n    const newArr: any = {};\n    for (const fieldName in inputData) {\n      const element = (inputData as any)[fieldName];\n      element.value.length === 0 && element.isValid\n        ? (element.isValid = false)\n        : (element.isValid = true);\n      (newArr as any)[fieldName] = element;\n    }\n    setInputData(newArr);\n    setIsValid(areAllInputsValid);\n\n    if (areAllInputsValid) {\n      // await sendMessageToTelegram(carts);\n      // await sendMessageToBackEnd(carts);\n      clearAllValues();\n      removeAllAdded();\n      return;\n    } else {\n      return;\n    }\n  };\n\n  const dataLenght = carts?.length;\n\n  const getDataFromMonoUser = (orderedCarts: any, id: number) => {\n    const dataAboutCartForMono = orderedCarts.map(\n      (cart: any, index: number) => {\n        return {\n          name: cart.name,\n          qty: cart.count,\n          sum: cart.price * 100,\n          icon: `https://kalynych.fun/img/${cart.images[0]}`,\n          unit: \"шт.\",\n          barcode: \"string\",\n          header: \"string\",\n          footer: \"string\",\n          tax: [],\n          uktzed: \"string\",\n          discounts: [\n            {\n              type: \"DISCOUNT\",\n              mode: \"VALUE\",\n              value: cart.oldPrice,\n            },\n          ],\n        };\n      }\n    );\n\n    try {\n      const activeBoxBasket = () => {\n        return basketBox.filter((element: array) => {\n          console.log(element.price, boxsPriceBasket);\n          return element.price === boxsPriceBasket;\n        });\n      };\n\n      const actBox: array = activeBoxBasket()[0];\n\n      dataAboutCartForMono.push({\n        name: actBox.name,\n        qty: 1,\n        sum: actBox.price * 100,\n        icoun: `${process.env.PUBLIC_URL}/img/${actBox.img}}`,\n        unit: \"шт.\",\n        barcode: \"string\",\n        header: \"string\",\n        footer: \"string\",\n        tax: [],\n        uktzed: \"string\",\n      });\n    } catch {\n      console.log(\"error\");\n    }\n    fetch(\"https://api.monobank.ua/api/merchant/invoice/create\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Token\": \"utR_bnF6LUzdc4pr3yFNFF2kKEPk75xeIlItZx9QfaxY\",\n      },\n      body: JSON.stringify({\n        amount: price * 100,\n        redirectUrl: \"http://kalynych.fun\",\n        webHookUrl: `https://7dd6-88-154-66-202.ngrok-free.app/webhook`,\n        merchantPaymInfo: {\n          reference: `${id}_84d0070ee4e44667b31371d8f8813947`,\n          destination: \"Подарунок від MISTER GIFTER\",\n          comment: \"Подарунок від MISTER GIFTER\",\n          customerEmails: [\n            \"ivan.kalunuch12@gmail.com\",\n            \"ivan.kalunuch31@gmail.com\",\n          ],\n          paymentType: \"debit\",\n          basketOrder: dataAboutCartForMono,\n        },\n      }),\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data);\n        window.location.href = data.pageUrl;\n      })\n      .catch((response) => console.log(response));\n  };\n\n  const closeMenu = (event: React.MouseEvent<HTMLDivElement>): void => {\n    const clickedElement = event.target as HTMLDivElement;\n    if (clickedElement.className === \"drawer drawer--active\") {\n      setOpenBasket ? setOpenBasket(false) : console.log(\"not foutn function\");\n    } else {\n      console.log(\"No\");\n    }\n  };\n\n  return {};\n};\ninterface IModal {\n  status: string;\n}\nconst ModalMessage: React.FC<IModal> = ({ status }) => {\n  return (\n    <div className=\"ModalMessage\">\n      <div className=\"ModalMessage_wrapper\">\n        <h1 className=\"ModalMessage_title\">Замовлення оформлено</h1>\n        <p className=\"ModalMessage_description\">\n          Згодом з вами звяжеться менеджер :)\n        </p>\n        <p className=\"ModalMessage_text\">\n          Для швидшої обробки замовлення, краще напишіть нам в\n          <a\n            className=\"ModalMessage_viber\"\n            href=\"https://t.me/mister_gifter\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Телеграм\n          </a>\n          або\n          <a\n            className=\"ModalMessage_telegram\"\n            href=\"viber://chat?number=%2B380639652780/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Viber\n          </a>\n        </p>\n        <button className=\"ModalMessage_button\">Головна</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Basket;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}